[package]
categories = ["game-development", "game-engines", "games", "graphics", "multimedia"]
description = "Wolf is a set of modules for realtime rendering, realtime streaming and game developing"
edition = "2021"
keywords = ["gamedev", "system", "gamedev", "render"]
license = "Apache-2.0"
name = "wolfengine"
readme = "README.md"
repository = "https://github.com/WolfEngine/WolfEngine/"
version = "3.0.3"

[lib]
crate-type = ["rlib", "cdylib"]
name = "wolf"
path = "src/lib.rs"

# before adding any dependency please check it out from
# https://android.googlesource.com/platform/external/rust/crates/

# Shared dependencies between Wasm & native
[dependencies]
#brotli = { version = "3.3.3" }
anyhow = {version = "1.0.56", default-features = false}
#cfg-if = { version = "1.0.0", default-features = false}
instant = {version = "0.1.12", default-features = false, features = ["wasm-bindgen"]}
signals2 = {version = "0.3.2", default-features = false}
wgpu = {version = "0.12.0", default-features = false, features = ["webgl"]}
winit = {version = "0.26.1", default-features = false, features = ["x11", "wayland", "wayland-dlopen"]}

# Wasm dependencies
[target.'cfg(target_arch = "wasm32")'.dependencies]
console_error_panic_hook = { version = "0.1.7", default-features = false }
rhai = { version = "1.6.0", default-features = false, features = ["sync", "internals", "wasm-bindgen"] }
serde = { version = "1.0.136", default-features = false, features = ["derive"]}
wasm-bindgen = { version = "0.2.79", default-features = false }
wasm-bindgen-futures = { version = "0.4.29", default-features = false }
wasm-mt = {version = "0.1.2", default-features = false }
web-sys = {version = "0.3.56", default-features = false, features = ["console", "Document", "Window", "Element"]}

# Native dependencies
[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
#scylla = {default-features = false, features = ["ssl"], version = "0.4.3"}
async-raft = {version = "0.6.1", default-features = false}
async-trait = {version = "0.1.53", default-features = false}
futures = {version = "0.3.21", default-features = false}
hyper = {version = "0.14.18", default-features = false}
may = {version = "0.3.21", default-features = false}
memstore = {version = "0.2.0", default-features = false}
mimalloc = {version = "0.1.28", default-features = false, features = ["secure"]}
parking_lot = {version = "0.12.0",  default-features = false, features = ["deadlock_detection"]}
prost = {version = "0.10.0", default-features = false}
rhai = { version = "1.6.0", features = ["sync", "internals"], default-features = false }
rustls-pemfile = {version = "0.3.0", default-features = false}
serde_json = {version = "1.0.79", default-features = false, features = ["std"]}
sysinfo = {version = "0.23.8", default-features = false, features = ["multithread"]}
tokio = {version = "1.17.0", default-features = false, features = ["full"]}
tokio-rustls = {version = "0.23.3", default-features = false, features = ["logging", "tls12"]}
tokio-tungstenite = {version = "0.17.1", default-features = false, features = ["connect", "rustls"]}
tonic = {version = "0.7.1", default-features = false, features = ["codegen", "prost", "tls", "compression"]}
tracing = {version = "0.1.32", default-features = false, features = ["std", "attributes"]}
uuid = {version = "0.8.2", default-features = false, features = ["v5"]}
webpki-roots = {version = "0.22.2", default-features = false}

[build-dependencies]
#bindgen = { version = "0.59.2" }
#vcpkg = {default-features = false, version = "0.2.15"}
tonic-build = {version = "0.7.0", default-features = false, features = ["transport", "prost", "compression"]}

[dev-dependencies]
lazy_static = {version = "1.4.0", default-features = false}

# Wasm features
[features]
default = ["system"]
render = []
stream = []
system = []
wasm = [] #remove this in order to native local debuging for tests



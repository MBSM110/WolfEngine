<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>wolf.hpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
/*
    Project: Wolf Engine. Copyright Â© 2014-2022 Pooya Eimandar
    https://github.com/WolfEngine/WolfEngine
*/

#pragma once

#ifdef __SANITIZE_ADDRESS__
#define _DISABLE_VECTOR_ANNOTATION
#endif

#ifdef _MSC_VER
#include &lt;codeanalysis\warnings.h&gt;
#endif

#ifdef WIN32

#include &lt;Windows.h&gt;
#include &lt;format&gt;

#endif

#ifndef EMSCRIPTEN
#include &lt;filesystem&gt;
#endif

#include &lt;chrono&gt;
#include &lt;exception&gt;
#include &lt;memory&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;

#include "DISABLE_ANALYSIS_BEGIN"

#include &lt;boost/leaf.hpp&gt;
#include &lt;gsl/gsl&gt;

#ifdef WOLF_SYSTEM_MIMALLOC

#include &lt;mimalloc-override.h&gt;

#endif

#ifdef WOLF_SYSTEM_STACKTRACE
    // disable warning 26458
    #ifdef _MSC_VER
        #pragma warning (disable:26458)
    #endif //_MSC_VER
    #include &lt;boost/stacktrace/stacktrace.hpp&gt;
#endif
#include "DISABLE_ANALYSIS_END"

constexpr auto W_MAX_PATH = 260;
constexpr auto W_MAX_BUFFER_SIZE = 1024;

using defer = std::shared_ptr&lt;void&gt;;

struct w_buffer {

<span style = "background-color:#dfd">  w_buffer() noexcept = default;</span>

  w_buffer(std::array&lt;char, W_MAX_BUFFER_SIZE&gt; &amp;&amp;p_array,
           size_t &amp;p_used_bytes) noexcept {
    this-&gt;buf = std::move(p_array);
    this-&gt;used_bytes = p_used_bytes;
  }

<span style = "background-color:#dfd">  w_buffer(const std::string_view &amp;p_str) { from_string(p_str); }</span>

<span style = "background-color:#dfd">  void from_string(const std::string_view p_str) {
    const auto _size = p_str.size();
    this-&gt;used_bytes = _size &gt; 1024 ? 1024 : _size;
    std::copy(p_str.cbegin(), p_str.cbegin() + this-&gt;used_bytes, buf.begin());
  }</span>

<span style = "background-color:#dfd">  std::string to_string() { return std::string(this-&gt;buf.data(), this-&gt;used_bytes); }</span>

  std::array&lt;char, W_MAX_BUFFER_SIZE&gt; buf = {0};
<span style = "background-color:#dfd">  size_t used_bytes = 0;</span>
};

//#ifdef __clang__
//#define W_ALIGNMENT_16 __attribute__((packed)) __attribute__((aligned(16)))
//#define W_ALIGNMENT_32 __attribute__((packed)) __attribute__((aligned(32)))
//#define W_ALIGNMENT_64 __attribute__((packed)) __attribute__((aligned(64)))
//#define W_ALIGNMENT_128 __attribute__((packed)) __attribute__((aligned(128)))
//#else
//#define W_ALIGNMENT_16
//#define W_ALIGNMENT_32
//#define W_ALIGNMENT_64
//#define W_ALIGNMENT_128
//#endif

#ifdef _MSC_VER

#define W_API __declspec(dllexport)
#define ASM __asm

#else

#define W_API
#define ASM __asm__

//define dummy SAL
#define _In_
#define _In_z_
#define _Out_
#define _Inout_
#define _Inout_z_
#define _In_opt_
#define _In_opt_z_
#define _Inout_opt_

#endif

#include &lt;system/w_trace.hpp&gt;

namespace wolf {
/**
 * returns wolf version
 * @return string format with the following style
 * "&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;.&lt;debug&gt;"
 */
W_API std::string w_init();
} // namespace wolf</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>